
Работа с сессией на сервере авторизации

Сервер авторизации сохраняет сессию пользователя только в случае когда пользователь выбрал опцию "Запомнить меня" (persistent authentication cookie, далее PAC). На стороне клиента PAC хранится ввиде uuid в http-only secure cookie для домена авторизации сроком на 30 дней. Вся информация связанная с PAC хранится в базе сервера авторизации. Сервер авторизации поддерживает механизм "logout" для удаления PAC и связанных с ним данных. Сервер авторизации поддерживает механизм проверки авторизации пользователя без взаимодействия в пользователем при наличии PAC пользователь должен автоматически авторизоваться, при его отсутсвии должен вернуть статус что пользователь не авторизован.

Работа с сессией на стороне сервера приложения

Сессия на стороне приложения создается для каждого (авторизованного и не авторизованного) пользователя. На стороне клиента хранится как session cookie без сохранения на диск, все связанные с сессией данные хранятся на стороне сервера. Сессия является экспирируемой и действует в течении 30 минут и продляется автоматически при запросах от пользователя. При отсутсвии или экспирации сессии сервер приложения должен отдавать ошибку авторизации.

Работа с сессией на стороне приложения (SPA, launcher)

Приложение самостоятельно следит за активностью сессии, на старте приложение инициализирует сессию через механизм авторизации без взаимодействия. При дальнейшей работе при получении ошибки авторизации от апи приложение должно обновить сессию через механизм авторизации без взаимодействия. Так же приложение может переодически обновлять сессию если не было взаимодествия с сервером апи длительное время для более гладкого UX.